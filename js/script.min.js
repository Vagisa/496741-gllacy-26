function init(){var e=new ymaps.Map("map",{center:[59.93931499,30.3294003],zoom:16},{searchControlPointer:"yandex#search"}),o=new ymaps.Placemark([59.938631,30.323055],{},{cursor:"arrow",iconLayout:"default#image",iconImageHref:"img/pin.png",iconImageSize:[218,142],iconImageOffset:[-40,-139]});e.geoObjects.add(o)}ymaps.ready(init);var linkSlider1=document.querySelector(".slider-switch1"),linkSlider2=document.querySelector(".slider-switch2"),linkSlider3=document.querySelector(".slider-switch3"),bckg=document.querySelector("body");function switchBckgClass(e){bckg.classList.remove("bckg1"),bckg.classList.remove("bckg2"),bckg.classList.remove("bckg3"),bckg.classList.add(e)}function switchActiveSliderButton(e){linkSlider1.classList.remove("slider-default"),linkSlider2.classList.remove("slider-default"),linkSlider3.classList.remove("slider-default"),e.classList.add("slider-default")}linkSlider1.addEventListener("click",function(e){switchBckgClass("bckg1"),switchActiveSliderButton(e.target)}),linkSlider2.addEventListener("click",function(e){switchBckgClass("bckg2"),switchActiveSliderButton(e.target)}),linkSlider3.addEventListener("click",function(e){switchBckgClass("bckg3"),switchActiveSliderButton(e.target)});var link=document.querySelector(".modal-open"),popup=document.querySelector(".modal"),overlay=document.querySelector(".without-overlay"),close=popup.querySelector(".modal-close"),form=popup.querySelector(".modal-form"),login=popup.querySelector("[name=name]"),email=popup.querySelector("[name=email]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),overlay.classList.add("overlay"),storage?(login.value=storage,email.focus()):login.focus()}),overlay.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),overlay.classList.remove("overlay"),popup.classList.remove("modal-error")}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),overlay.classList.remove("overlay"),popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){login.value&&email.value?isStorageSupport&&localStorage.setItem("login",login.value):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),overlay.classList.remove("overlay"),popup.classList.remove("modal-error")))});